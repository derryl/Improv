!function(a,b,c){"function"==typeof define&&define.amd?define([],c):"object"==typeof exports?module.exports=c():b[a]=c()}("Improv",this,function(){"use strict";function a(){function a(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var b={},c={match:"{{([^{}]*)}}",overwrite:!0};return b.styleObject=null,b.loadFile=function(a,c){var d=b.loadFile;if(d.bindFunction=function(a,b){return function(){return a.apply(b,[b])}},d.stateChange=function(){4===d.request.readyState&&d.callback(d.request.responseText)},d.createRequest=function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:!1},d.url=a,d.callback=c,d.request=d.createRequest(),d.request){var e=d.request;e.onreadystatechange=d.bindFunction(d.stateChange,d),e.open("GET",a,!0),e.send()}},b.interpolate=function(a,b){return a.replace(/{{([^{}]*)}}/g,function(a,c){var d=b[c];return"string"==typeof d||"number"==typeof d?d:a})},b.appendStylesheet=function(b){{var d=this;a(c)}if(!b)return!1;d.styleObject&&(console.log("removed old stylesheet"),d.styleObject.parentNode.removeChild(d.styleObject));var e=document.createElement("style"),f=document.createTextNode(b);e.appendChild(f),d.styleObject=e,document.getElementsByTagName("head")[0].appendChild(e)},b.add=function(a,c){b.loadFile(a,function(a){b.appendStylesheet(b.interpolate(a,c))})},b}return a()});